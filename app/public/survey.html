<!DOCTYPE html>
<html lang="eng-us">
<head>
    <title>Friend Finder</title>
    <meta charset="UTF-8">
	<title>Friend Finder</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
</head>
<body>

	<div class="container">

		<h2>Survey Questions</h2>
		<hr>

		<h3><strong>About You</strong></h3>
		<h4>Name (Required)</h4>
		<input type="text" name="" id="name" class="form-control" required="">

		<h4>Link to Photo Image (Required)</h4>
		<input type="text" name="" id="photo" class="form-control" required="">

		<hr>

		<h3><strong>Question 1</strong></h3>
		<h4>Food is your greatest passion.</h4>
	 	<div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle, question" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select an Option</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="1">1</a>
                <a class="dropdown-item" value="2">2</a>
                <a class="dropdown-item" value="3">3</a>
                <a class="dropdown-item" value="4">4</a>
                <a class="dropdown-item" value="5">5</a>
            </div>
        </div>
        <br>

		<h3><strong>Question 2</strong></h3>
		<h4>You enjoy eating at restaurants more than cooking.</h4>
	 	<div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle, question" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select an Option</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="1">1</a>
                <a class="dropdown-item" value="2">2</a>
                <a class="dropdown-item" value="3">3</a>
                <a class="dropdown-item" value="4">4</a>
                <a class="dropdown-item" value="5">5</a>
            </div>
        </div>
        <br>

		<h3><strong>Question 3</strong></h3>
		<h4>You take photos of all your meals – and enjoy it as much as eating it.</h4>
	 	<div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle, question" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select an Option</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="1">1</a>
                <a class="dropdown-item" value="2">2</a>
                <a class="dropdown-item" value="3">3</a>
                <a class="dropdown-item" value="4">4</a>
                <a class="dropdown-item" value="5">5</a>
            </div>
        </div>
        <br>

		<h3><strong>Question 4</strong></h3>
		<h4>You prefer foods eaten with your hands rather than using utensils.</h4>
	 	<div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle, question" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select an Option</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="1">1</a>
                <a class="dropdown-item" value="2">2</a>
                <a class="dropdown-item" value="3">3</a>
                <a class="dropdown-item" value="4">4</a>
                <a class="dropdown-item" value="5">5</a>
            </div>
        </div>
        <br>

		<h3><strong>Question 5</strong></h3>
		<h4>You enjoy spicy foods – really spicy.</h4>
	 	<div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle, question" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select an Option</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="1">1</a>
                <a class="dropdown-item" value="2">2</a>
                <a class="dropdown-item" value="3">3</a>
                <a class="dropdown-item" value="4">4</a>
                <a class="dropdown-item" value="5">5</a>
            </div>
        </div>
        <br>

		<h3><strong>Question 6</strong></h3>
		<h4>You always strive to eat new foods, whether eating out or cooking at home.</h4>
	 	<div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle, question" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select an Option</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="1">1</a>
                <a class="dropdown-item" value="2">2</a>
                <a class="dropdown-item" value="3">3</a>
                <a class="dropdown-item" value="4">4</a>
                <a class="dropdown-item" value="5">5</a>
            </div>
        </div>
        <br>

		<h3><strong>Question 7</strong></h3>
		<h4>You eat at least three meals a day.</h4>
	 	<div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle, question" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select an Option</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="1">1</a>
                <a class="dropdown-item" value="2">2</a>
                <a class="dropdown-item" value="3">3</a>
                <a class="dropdown-item" value="4">4</a>
                <a class="dropdown-item" value="5">5</a>
            </div>
        </div>
        <br>

        <h3><strong>Question 8</strong></h3>
		<h4>You pair beverages with your meals for maximum enjoyment.</h4>
	 	<div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle, question" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select an Option</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="1">1</a>
                <a class="dropdown-item" value="2">2</a>
                <a class="dropdown-item" value="3">3</a>
                <a class="dropdown-item" value="4">4</a>
                <a class="dropdown-item" value="5">5</a>
            </div>
        </div>
        <br>

        <h3><strong>Question 9</strong></h3>
		<h4>You have food sensitivities.</h4>
	 	<div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle, question" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select an Option</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="1">1</a>
                <a class="dropdown-item" value="2">2</a>
                <a class="dropdown-item" value="3">3</a>
                <a class="dropdown-item" value="4">4</a>
                <a class="dropdown-item" value="5">5</a>
            </div>
        </div>
        <br>

        <h3><strong>Question 10</strong></h3>
		<h4>Sunday brunch is the best meal of the week.</h4>
	 	<div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle, question" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Select an Option</button>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" value="1">1</a>
                <a class="dropdown-item" value="2">2</a>
                <a class="dropdown-item" value="3">3</a>
                <a class="dropdown-item" value="4">4</a>
                <a class="dropdown-item" value="5">5</a>
            </div>
        </div>
		<br>
		<br>

		<!-- Submit Button -->
		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><span class="fa fa-check-circle"></span> Submit</button>

	</div>

	<!-- Modal-->

    <div class="modal fade" id="myModal">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Best Match</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <hr>
        <div class="modal-body">
            <p id="match-name"></p>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
        </div>
    </div>
    </div>   

<!--Javascript  -->

<script>
    $(".dropdown-item").on("click", function() {
        console.log($(this).text());
        $(this).parents(".dropdown").find('.btn').html($(this).text());
        $(this).parents(".dropdown").find('.btn').val($(this).data('value'));
    });

    $("#submit").on("click", function(event) {
      event.preventDefault();

      var newFriend = {
       name: $("#name").val().trim(),
       photo: $("#photo").val().trim(),
       scores: [],
      };
      $('.question').each(function() {
        if($(this).text() === "Select an Option") {
            newFriend.scores.push("0");
        }
        else {
        newFriend.scores.push($(this).text());
        }
        });  
        console.log(newFriend);      
        $.post("/api/friends", newFriend, function(data) {
            if(data) {
                $('#myModal').modal(show);
            }
        })
    });
</script>


</body>
</html>